{"ast":null,"code":"var _jsxFileName = \"/Users/GAMJA/Desktop/nodejs\\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/boilerplate-mern-stack-master/client/src/hoc/auth.js\";\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\nexport default function (SpecificComponent, option, adminRoute = null) {\n  var _s = $RefreshSig$();\n  function AuthenticationCheck(props) {\n    _s();\n    let user = useSelector(state => state.user);\n    const dispatch = useDispatch();\n    useEffect(() => {\n      //To know my current status, send Auth request \n      dispatch(auth()).then(response => {\n        //Not Loggined in Status \n        if (!response.payload.isAuth) {\n          if (option) {\n            props.history.push('/login');\n          }\n          //Loggined in Status \n        } else {\n          //supposed to be Admin page, but not admin person wants to go inside\n          if (adminRoute && !response.payload.isAdmin) {\n            props.history.push('/');\n          }\n          //Logged in Status, but Try to go into log in page \n          else {\n            if (option === false) {\n              props.history.push('/');\n            }\n          }\n        }\n      });\n    }, []);\n    return /*#__PURE__*/React.createElement(SpecificComponent, Object.assign({}, props, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }));\n  }\n  _s(AuthenticationCheck, \"5J/jBDPxOCuWDcqNaifzAwnDqoU=\", false, function () {\n    return [useSelector, useDispatch];\n  });\n  return AuthenticationCheck;\n}","map":{"version":3,"names":["React","useEffect","auth","useSelector","useDispatch","SpecificComponent","option","adminRoute","_s","$RefreshSig$","AuthenticationCheck","props","user","state","dispatch","then","response","payload","isAuth","history","push","isAdmin","createElement","Object","assign","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/GAMJA/Desktop/nodejs프로젝트/boilerplate-mern-stack-master/client/src/hoc/auth.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (SpecificComponent, option, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n            //To know my current status, send Auth request \n            dispatch(auth()).then(response => {\n                //Not Loggined in Status \n                if (!response.payload.isAuth) {\n                    if (option) {\n                        props.history.push('/login')\n                    }\n                    //Loggined in Status \n                } else {\n                    //supposed to be Admin page, but not admin person wants to go inside\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    //Logged in Status, but Try to go into log in page \n                    else {\n                        if (option === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n\n        }, [])\n\n        return (\n            <SpecificComponent {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,IAAI,QAAQ,0BAA0B;AAC/C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,eAAe,UAAUC,iBAAiB,EAAEC,MAAM,EAAEC,UAAU,GAAG,IAAI,EAAE;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACnE,SAASC,mBAAmBA,CAACC,KAAK,EAAE;IAAAH,EAAA;IAEhC,IAAII,IAAI,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACD,IAAI,CAAC;IAC3C,MAAME,QAAQ,GAAGV,WAAW,CAAC,CAAC;IAE9BH,SAAS,CAAC,MAAM;MACZ;MACAa,QAAQ,CAACZ,IAAI,CAAC,CAAC,CAAC,CAACa,IAAI,CAACC,QAAQ,IAAI;QAC9B;QACA,IAAI,CAACA,QAAQ,CAACC,OAAO,CAACC,MAAM,EAAE;UAC1B,IAAIZ,MAAM,EAAE;YACRK,KAAK,CAACQ,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;UAChC;UACA;QACJ,CAAC,MAAM;UACH;UACA,IAAIb,UAAU,IAAI,CAACS,QAAQ,CAACC,OAAO,CAACI,OAAO,EAAE;YACzCV,KAAK,CAACQ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UAC3B;UACA;UAAA,KACK;YACD,IAAId,MAAM,KAAK,KAAK,EAAE;cAClBK,KAAK,CAACQ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;YAC3B;UACJ;QACJ;MACJ,CAAC,CAAC;IAEN,CAAC,EAAE,EAAE,CAAC;IAEN,oBACIpB,KAAA,CAAAsB,aAAA,CAACjB,iBAAiB,EAAAkB,MAAA,CAAAC,MAAA,KAAKb,KAAK;MAAEC,IAAI,EAAEA,IAAK;MAAAa,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAE,CAAC;EAEpD;EAACtB,EAAA,CAjCQE,mBAAmB;IAAA,QAEbP,WAAW,EACLC,WAAW;EAAA;EA+BhC,OAAOM,mBAAmB;AAC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}